---
title: linux查看磁盘使用情况
date: 2019-04-07
categories: 
- Linux
tags: 
- Linux
init: 1
---
## linux查看文件大小，磁盘使用情况

## 查看硬盘使用情况

```
df -h
```

输出如下：

```
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        60G   14G   43G  25% /
udev             10M     0   10M   0% /dev
tmpfs           1.6G  161M  1.5G  11% /run
```

其中`-h`是人类可读方法显示，很多类似的命令都是使用-h表示。

## 查看文件占用

```
du -ah -d 1
```

这个是我想要的结果  

- -a 显示目录占用的磁盘空间大小（**包括隐藏文件**），还要显示其下目录和文件占用磁盘空间的大小。
- -d (--max-depth）选项，限制显示层数，这里**表示显示层级数为1，也就是当前目录下所有的文件和文件夹（不含子目录）**，
- -h：表示以人类能看懂的方式。

其他选项：

-  **-s**：显示目录占用的磁盘空间大小，而不显示其下子目录和文件占用磁盘空间的信息（depth = 0），因此，**这个参数通常和对应的目录配合使用！如果也想查看当前目录下文件，不包括隐藏文件，可以使用 * **

```shell
$ du -sh ./blog
4.0M	./blog

$ du -sh
655M .

$ du -sh *
654M	db
620K	log
68K	mongodb.log.2019-02-28T03-25-07
4.0K	mongodb.conf
```

-  -c：显示几个目录或文件占用的磁盘空间大小，还要统计它们的总和

```
du -ch -d 1
...
6.9G	.
6.9G	total
```

-  --apparent-size：显示目录或**文件自身的大小**（注意文件小和磁盘空间不是同一概念！！）
-  -l ：统计硬链接占用**磁盘空间的大小**
-  -L：统计符号链接所指向的文件占用的磁盘空间大小
